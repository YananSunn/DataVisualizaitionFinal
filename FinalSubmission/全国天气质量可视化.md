# 全国天气质量可视化

杨宇菲 2020215224

孙亚男 2020215223

许子诺 2018270017



## 框架说明

- 用户界面：vue.js
- 界面组件：iView
- 图表绘制：d3.js
- 后端服务：VSCode Live Server



## 设计说明

### 具体实现

- 全国空气质量数据
  -  绘制地图
    - 交互方式：鼠标滚轮缩放
  - 绘制城市站点
    - 交互方式：点击切换至对应的历史空气质量数据
  - 绘制雷达图
    - 交互方式：城市站点悬浮出现
- 城市历史空气质量数据
  - 绘制散点图
    - 交互方式：单选按钮切换坐标轴尺度
  - 绘制折线图
  - 绘制箱线图
    - 交互方式：单选按钮切换时间维度
- 城市空气质量排名
  - 动态柱状图
- 地区AQI排名
  - 动态柱状图
- 地域分布
  - 动态饼状图



### 参考资料

- 全国空气质量数据
  -  绘制地图
    - 参考：地图部分助教课代码
  - 绘制雷达图
    - 参考： https://blog.csdn.net/svap1/article/details/26004783
- 城市历史空气质量数据
  - 绘制散点图
    - 日期坐标轴参考：https://blog.csdn.net/ligaoming_123/article/details/81531576
  - 绘制箱线图
    - 参考：https://www.d3-graph-gallery.com/boxplot
- 城市空气质量排名
  - 动态柱状图
    - 参考：可视化作业1
- 地区AQI排名
  - 动态柱状图
    - 参考：可视化作业1
- 地域分布
  - 动态饼状图
    - 参考：可视化作业2



## 分工说明

### 杨宇菲同学

- 数据处理
  - 城市数据分类
- 地图绘制
  - 省份地图绘制
  - 地图缩放功能
- 图表绘制
  - 折线图
  - 箱线图
  - 动态柱状图
  - 动态饼状图
- 验收材料准备
  - 视频配音



### 孙亚男同学

- 项目框架
  - 项目页面搭建
  - 页面样式美化
- 地图绘制
  - 城市站点散点绘制
- 图表绘制
  - 雷达图
  - 散点图
  - 图表样式调整
- 验收材料准备
  - ppt
  - 文档
  - 视频录制



### 许子诺同学

- 数据处理
  - 季度、年、月、日平均与极值数据
  - 区域、城市数据分类



## 遇到的困难

### 杨宇菲同学

- 版本问题
  - zoom和boxplot查到的reference适用于旧版本，需要替换相应的函数
- 地图绘制
  - 缩放时只缩放地图，而保持散点大小不变
- 图表绘制
  - 散点图和折线图时间数据可视化的高亮
  - 同一画布上图表的刷新



### 孙亚男同学

- 项目框架
  - 页面搭建 iview非template组件名有变化
  - 页面美化 对属性不熟悉
- 地图绘制
  - 日期合法性的验证
  - 城市坐标到屏幕坐标的转化
  - 缺失数据对应站点的处理
- 图表绘制
  - 雷达图 文字标签偏移位置的计算
  - 散点图 日期坐标轴的映射及数据类型的转化



### 许子诺同学

- 数据预处理
  - 判别数据缺失
  - 撰写能快速应变数据需求的预处理程序
- 图表绘制
  - 初学 D3
  - 将真实数据，应用D3动态柱状图



### 结果展示

具体结果展示请参见录屏。

![1623998221007](C:/Users/80592/AppData/Roaming/Typora/typora-user-images/1623998221007.png)

![1623998226430](C:/Users/80592/AppData/Roaming/Typora/typora-user-images/1623998226430.png)

![1623998231721](C:/Users/80592/AppData/Roaming/Typora/typora-user-images/1623998231721.png)

![1623998237443](C:/Users/80592/AppData/Roaming/Typora/typora-user-images/1623998237443.png)

![1623998243566](C:/Users/80592/AppData/Roaming/Typora/typora-user-images/1623998243566.png)